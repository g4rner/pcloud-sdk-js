<form>
  <input type="file" name="file" accept="image/*" onchange="uploadFile">
</form>
<script>
function uploadFile(){
/**
 * Two variables should already be set.
 * dropboxToken = OAuth access token, specific to the user.
 * file = file object selected in the file widget.
 */
  console.log("xxx");
 var xhr = new XMLHttpRequest();
 
 xhr.upload.onprogress = function(evt) {
   var percentComplete = parseInt(100.0 * evt.loaded / evt.total);
   // Upload in progress. Do something here with the percent complete.
 };
  
 xhr.onload = function() {
   if (xhr.status === 200) {
     var fileInfo = JSON.parse(xhr.response);
     // Upload succeeded. Do something here with the file info.
   }
   else {
     var errorMessage = xhr.response || 'Unable to upload file';
     // Upload failed. Do something here with the error.
   }
 };
  
 xhr.open('POST', 'https://content.dropboxapi.com/2/files/upload');
 xhr.setRequestHeader('Authorization', 'Bearer ' + 'sl.BGg4PZZeVHf_3szsdZ7PC9HQQ1zdipkgC7Ij8ZuObFMSF-Kb7V5VI-Qf-jXBANA6tCF9wF_DD_k1TkW7fXq7REgdup7T6lWfccnMNUWgMsk-jetrKKLJnF00kF0AZZo9k1yG1rE');
 xhr.setRequestHeader('Content-Type', 'application/octet-stream');
 xhr.setRequestHeader('Dropbox-API-Arg', JSON.stringify({
   path: '/' +  'filename',
   mode: 'add',
   autorename: true,
   mute: false
 }));
  
 xhr.send("x.txt");

}

</script>